memory management
 - free memory when exiting due to error
 - cut down on exit() calls
